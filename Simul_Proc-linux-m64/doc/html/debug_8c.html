<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Simulateur du jeu d&#39;instructions d&#39;un processeur simple: Référence du fichier debug.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Simulateur du jeu d&#39;instructions d&#39;un processeur simple
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Page&#160;principale</span></a></li>
      <li><a href="annotated.html"><span>Structures&#160;de&#160;données</span></a></li>
      <li class="current"><a href="files.html"><span>Fichiers</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>Liste&#160;des&#160;fichiers</span></a></li>
      <li><a href="globals.html"><span>Variables&#160;globale</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('debug_8c.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Fonctions</a>  </div>
  <div class="headertitle">
<div class="title">Référence du fichier debug.c</div>  </div>
</div><!--header-->
<div class="contents">

<p>Fonctions de mise au point interactive.  
<a href="#details">Plus de détails...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="machine_8h_source.html">machine.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Graphe des dépendances par inclusion de debug.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="debug_8c__incl.png" border="0" usemap="#debug_8c" alt=""/></div>
<map name="debug_8c" id="debug_8c">
<area shape="rect" id="node11" href="machine_8h.html" title="Description de la structure du processeur et de sa mémoire. " alt="" coords="281,86,364,117"/><area shape="rect" id="node14" href="instruction_8h.html" title="Description du jeu d&#39;instruction. " alt="" coords="277,166,368,197"/></map>
</div>
</div>
<p><a href="debug_8c_source.html">Aller au code source de ce fichier.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5de5d183f9a6a8d53316f743e1ca6dc2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug_8c.html#a5de5d183f9a6a8d53316f743e1ca6dc2">NMAX</a>&#160;&#160;&#160;10</td></tr>
<tr class="memdesc:a5de5d183f9a6a8d53316f743e1ca6dc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dialogue de mise au point interactive pour l'instruction courante.  <a href="#a5de5d183f9a6a8d53316f743e1ca6dc2">Plus de détails...</a><br /></td></tr>
<tr class="separator:a5de5d183f9a6a8d53316f743e1ca6dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Fonctions</h2></td></tr>
<tr class="memitem:a3a88fdc680b7a1ae8c4c7c8ddee730ab"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug_8c.html#a3a88fdc680b7a1ae8c4c7c8ddee730ab">debug_ask</a> (<a class="el" href="structMachine.html">Machine</a> *pmach)</td></tr>
<tr class="memdesc:a3a88fdc680b7a1ae8c4c7c8ddee730ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dialogue de mise au point interactive pour l'instruction courante.  <a href="#a3a88fdc680b7a1ae8c4c7c8ddee730ab">Plus de détails...</a><br /></td></tr>
<tr class="separator:a3a88fdc680b7a1ae8c4c7c8ddee730ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description détaillée</h2>
<div class="textblock"><p>Fonctions de mise au point interactive. </p>

<p>Définition dans le fichier <a class="el" href="debug_8c_source.html">debug.c</a>.</p>
</div><h2 class="groupheader">Documentation des macros</h2>
<a class="anchor" id="a5de5d183f9a6a8d53316f743e1ca6dc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NMAX&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dialogue de mise au point interactive pour l'instruction courante. </p>
<p>Cette fonction gère le dialogue pour l'option <code>-d</code> (debug). Dans ce mode, elle est invoquée après l'exécution de chaque instruction. Elle affiche le menu de mise au point et on exécute le choix de l'utilisateur. Si cette fonction retourne faux, on abandonne le mode de mise au point interactive pour les instructions suivantes et jusqu'à la fin du programme.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">mach</td><td>la machine/programme en cours de simulation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>vrai si l'on doit continuer en mode debug, faux sinon </dd></dl>

<p>Définition à la ligne <a class="el" href="debug_8c_source.html#l00022">22</a> du fichier <a class="el" href="debug_8c_source.html">debug.c</a>.</p>

<p>Référencé par <a class="el" href="debug_8c_source.html#l00023">debug_ask()</a>.</p>

</div>
</div>
<h2 class="groupheader">Documentation des fonctions</h2>
<a class="anchor" id="a3a88fdc680b7a1ae8c4c7c8ddee730ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool debug_ask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMachine.html">Machine</a> *&#160;</td>
          <td class="paramname"><em>pmach</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dialogue de mise au point interactive pour l'instruction courante. </p>
<p>Cette fonction gère le dialogue pour l'option <code>-d</code> (debug). Dans ce mode, elle est invoquée après l'exécution de chaque instruction. Elle affiche le menu de mise au point et on exécute le choix de l'utilisateur. Si cette fonction retourne faux, on abandonne le mode de mise au point interactive pour les instructions suivantes et jusqu'à la fin du programme.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">mach</td><td>la machine/programme en cours de simulation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>vrai si l'on doit continuer en mode debug, faux sinon </dd></dl>

<p>Définition à la ligne <a class="el" href="debug_8c_source.html#l00023">23</a> du fichier <a class="el" href="debug_8c_source.html">debug.c</a>.</p>

<p>Références <a class="el" href="debug_8c_source.html#l00022">NMAX</a>, <a class="el" href="machine_8c_source.html#l00204">print_cpu()</a>, <a class="el" href="machine_8c_source.html#l00183">print_data()</a>, et <a class="el" href="machine_8c_source.html#l00166">print_program()</a>.</p>

<p>Référencé par <a class="el" href="machine_8c_source.html#l00252">simul()</a>.</p>
<div class="fragment"><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;                              {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keywordtype">char</span> input[<a class="code" href="debug_8c.html#a5de5d183f9a6a8d53316f743e1ca6dc2">NMAX</a>];</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    printf(<span class="stringliteral">&quot;DEBUG? &quot;</span>);</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    scanf(<span class="stringliteral">&quot;%s&quot;</span>,input);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordflow">if</span>(strcmp(input,<span class="stringliteral">&quot;h&quot;</span>)==0){</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        printf(<span class="stringliteral">&quot;h\thelp\n&quot;</span>);</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        printf(<span class="stringliteral">&quot;c\tcontinue(exit interactive debug mode)\n&quot;</span>);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        printf(<span class="stringliteral">&quot;s\tstep by step(next instruction)\n&quot;</span>);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        printf(<span class="stringliteral">&quot;RET\tstep by step(next instruction)\n&quot;</span>);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        printf(<span class="stringliteral">&quot;r\tprint registers\n&quot;</span>);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        printf(<span class="stringliteral">&quot;d\tprint data memory\n&quot;</span>);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        printf(<span class="stringliteral">&quot;t\tprint text(program) memory\n&quot;</span>);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        printf(<span class="stringliteral">&quot;p\tprint text(program) memory\n&quot;</span>);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        printf(<span class="stringliteral">&quot;m\tprint registers and data memory\n&quot;</span>); </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    }</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordflow">if</span>(strcmp(input,<span class="stringliteral">&quot;c&quot;</span>)==0)</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">if</span>(strcmp(input,<span class="stringliteral">&quot;r&quot;</span>)==0)</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <a class="code" href="machine_8c.html#a87cfff30238b966cfc3c0c416d7076e9">print_cpu</a>(pmach);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">if</span>(strcmp(input,<span class="stringliteral">&quot;d&quot;</span>)==0)</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <a class="code" href="machine_8c.html#a549be6eaf631d871e9357513c748640d">print_data</a>(pmach);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">if</span>(strcmp(input,<span class="stringliteral">&quot;t&quot;</span>)==0)</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <a class="code" href="machine_8c.html#aba3ce4987ef379073d9d3f31debf89e7">print_program</a>(pmach);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">if</span>(strcmp(input,<span class="stringliteral">&quot;p&quot;</span>)==0)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <a class="code" href="machine_8c.html#aba3ce4987ef379073d9d3f31debf89e7">print_program</a>(pmach);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">if</span>(strcmp(input,<span class="stringliteral">&quot;m&quot;</span>)==0){</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <a class="code" href="machine_8c.html#a87cfff30238b966cfc3c0c416d7076e9">print_cpu</a>(pmach);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <a class="code" href="machine_8c.html#a549be6eaf631d871e9357513c748640d">print_data</a>(pmach);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    }</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}<div class="ttc" id="debug_8c_html_a5de5d183f9a6a8d53316f743e1ca6dc2"><div class="ttname"><a href="debug_8c.html#a5de5d183f9a6a8d53316f743e1ca6dc2">NMAX</a></div><div class="ttdeci">#define NMAX</div><div class="ttdoc">Dialogue de mise au point interactive pour l&#39;instruction courante. </div><div class="ttdef"><b>Definition:</b> <a href="debug_8c_source.html#l00022">debug.c:22</a></div></div>
<div class="ttc" id="machine_8c_html_aba3ce4987ef379073d9d3f31debf89e7"><div class="ttname"><a href="machine_8c.html#aba3ce4987ef379073d9d3f31debf89e7">print_program</a></div><div class="ttdeci">void print_program(Machine *pmach)</div><div class="ttdoc">Affichage des instructions du programme. </div><div class="ttdef"><b>Definition:</b> <a href="machine_8c_source.html#l00166">machine.c:166</a></div></div>
<div class="ttc" id="machine_8c_html_a87cfff30238b966cfc3c0c416d7076e9"><div class="ttname"><a href="machine_8c.html#a87cfff30238b966cfc3c0c416d7076e9">print_cpu</a></div><div class="ttdeci">void print_cpu(Machine *pmach)</div><div class="ttdoc">Affichage des registres du CPU. </div><div class="ttdef"><b>Definition:</b> <a href="machine_8c_source.html#l00204">machine.c:204</a></div></div>
<div class="ttc" id="machine_8c_html_a549be6eaf631d871e9357513c748640d"><div class="ttname"><a href="machine_8c.html#a549be6eaf631d871e9357513c748640d">print_data</a></div><div class="ttdeci">void print_data(Machine *pmach)</div><div class="ttdoc">Affichage des données du programme. </div><div class="ttdef"><b>Definition:</b> <a href="machine_8c_source.html#l00183">machine.c:183</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Voici le graphe d'appel pour cette fonction :</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="debug_8c_a3a88fdc680b7a1ae8c4c7c8ddee730ab_cgraph.png" border="0" usemap="#debug_8c_a3a88fdc680b7a1ae8c4c7c8ddee730ab_cgraph" alt=""/></div>
<map name="debug_8c_a3a88fdc680b7a1ae8c4c7c8ddee730ab_cgraph" id="debug_8c_a3a88fdc680b7a1ae8c4c7c8ddee730ab_cgraph">
<area shape="rect" id="node3" href="machine_8c.html#a87cfff30238b966cfc3c0c416d7076e9" title="Affichage des registres du CPU. " alt="" coords="159,5,233,35"/><area shape="rect" id="node5" href="machine_8c.html#a549be6eaf631d871e9357513c748640d" title="Affichage des données du programme. " alt="" coords="156,58,236,89"/><area shape="rect" id="node7" href="machine_8c.html#aba3ce4987ef379073d9d3f31debf89e7" title="Affichage des instructions du programme. " alt="" coords="145,111,247,142"/><area shape="rect" id="node9" href="instruction_8c.html#a437080d5e8c504588a47d0dba468492f" title="Impression d&#39;une instruction sous forme lisible (désassemblage) " alt="" coords="296,111,408,142"/><area shape="rect" id="node11" href="instruction_8c.html#ac767ea3efb2ab451d4d1641b14138d02" title="Impression de la variable de l&#39;instruction. " alt="" coords="457,111,524,142"/></map>
</div>
</p>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Voici le graphe des appelants de cette fonction :</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="debug_8c_a3a88fdc680b7a1ae8c4c7c8ddee730ab_icgraph.png" border="0" usemap="#debug_8c_a3a88fdc680b7a1ae8c4c7c8ddee730ab_icgraph" alt=""/></div>
<map name="debug_8c_a3a88fdc680b7a1ae8c4c7c8ddee730ab_icgraph" id="debug_8c_a3a88fdc680b7a1ae8c4c7c8ddee730ab_icgraph">
<area shape="rect" id="node3" href="machine_8h.html#ad0bfa0ce7434b963eea888d7b847ac3b" title="Simulation. " alt="" coords="144,5,197,35"/><area shape="rect" id="node5" href="test__simul_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Programme de test. " alt="" coords="245,5,296,35"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="debug_8c.html">debug.c</a></li>
    <li class="footer">Généré le Mercredi 11 Juin 2014 16:24:00 pour Simulateur du jeu d&#39;instructions d&#39;un processeur simple par
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
